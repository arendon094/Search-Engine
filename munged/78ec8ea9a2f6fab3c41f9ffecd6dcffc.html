<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <!-- headlinks removed --> 
  <link rel="shortcut icon" href="../../../../misc/favicon.ico"> 
  <title>Native Command Queuing - Wikipedia, the free encyclopedia</title> 
  <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style> 
  <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css"> 
  <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]--> 
  <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]--> 
  <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]--> 
  <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]--> 
  <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script> 
  <script type="text/javascript" src="../../../../skins/offline/md5.js"></script> 
  <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script> 
  <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script> 
  <script type="text/javascript" src="../../../../raw/gen.js"></script> 
  <style type="text/css">/*<![CDATA[*/
@import "../../../../raw/MediaWiki%7ECommon.css";
@import "../../../../raw/MediaWiki%7EMonobook.css";
@import "../../../../raw/gen.css";
/*]]>*/</style> 
 </head> 
 <body class="ns-0"> 
  <div id="globalWrapper"> 
   <div id="column-content"> 
    <div id="content"> 
     <a name="top" id="contentTop"></a> 
     <h1 class="firstHeading">Native Command Queuing</h1> 
     <div id="bodyContent"> 
      <h3 id="siteSub">From Wikipedia, the free encyclopedia</h3> 
      <div id="contentSub"></div> 
      <!-- start content --> 
      <table class="metadata plainlinks ambox ambox-move" style=""> 
       <tbody>
        <tr> 
         <td class="ambox-image"> 
          <div style="width: 52px;">
           <a href="568f73cb5c885dd20f3b257851abb642.html" class="image" title="Merge arrows"><img alt="Merge arrows" src="../../../../images/shared/thumb/5/52/Merge-arrows.svg/50px-Merge-arrows.svg.png" width="50" height="20" border="0"></a>
          </div> </td> 
         <td class="ambox-text" style="">It has been suggested that this article or section be <a href="4ed9ef1e4273c51967fab233a86a75d9.html" title="Help:Merging and moving pages">merged</a> with <i><a href="3ab0a97d155dc52462e09099fa99c598.html" title="Tagged Command Queuing">Tagged Command Queuing</a></i>. (<a href="38b0e78b08fed563ae55951cfaa2046f.html" title="Talk:Tagged Command Queuing">Discuss</a>)</td> 
        </tr> 
       </tbody>
      </table> 
      <div class="floatright">
       <span><a href="33c682486a5b685c3abd84377e3f1592.html" class="image" title="NCQ.svg"><img alt="" src="../../../../images/shared/thumb/4/4a/NCQ.svg/300px-NCQ.svg.png" width="300" height="212" border="0"></a></span>
      </div> 
      <p><b>Native Command Queuing</b> (NCQ) is a technology designed to increase performance of <a href="ac61f25fb4171d384ac530ef886686d4.html" class="mw-redirect" title="SATA">SATA</a> <a href="2a2825dbc860f7304730478fa1456978.html" class="mw-redirect" title="Hard disk">hard disks</a> under certain situations by allowing the individual hard disk to internally optimize the order in which received read and write commands are executed. This can reduce the amount of unnecessary drive head movement, resulting in increased performance (and slightly decreased wear of the drive) for workloads where multiple simultaneous read/write requests are outstanding, most often occurring in <a href="954fa89d6b9d998c79da35741bdcc7ed.html" title="Server (computing)">server</a>-type applications. However, the current (as of 2004) technology actually slows down HD access in certain applications, like games and sequential reads &amp; writes, because of the added latency induced by NCQ logic.<sup id="cite_ref-test_0-0" class="reference"><a href="aca91d656b6a5f7e2fbde003196bf410.html" title="">[1]</a></sup><sup class="noprint Inline-Template"><span title="" style="white-space: nowrap;">[<i><a href="923840253b16263559109839c621888b.html" title="Talk:Native Command Queuing">obsolete fact</a></i>]</span></sup></p> 
      <p>Native Command Queuing was preceded by Parallel ATA's version of <a href="c27ae92c7520738bfd5fa1f9a5032794.html" title="Tagged Command Queuing">Tagged Command Queuing</a> (TCQ). Because ATA's attempt at integrating TCQ had to put up with the constraint that ATA host bus adapters had to look like ISA bus devices to the operating system, this forced an awkward implementation that failed to gain much acceptance in the market due to extremely high CPU overhead and negligible performance gain. NCQ differs from PATA TCQ in that the command re-ordering is completely done on the drive itself, and each command is equal in importance. This is touted as an optimal solution, since the drive has the most knowledge of its performance characteristics, and is able to take rotational position into account. NCQ and PATA TCQ have a maximum queue length of 32 in-flight commands<sup id="cite_ref-sata_1-0" class="reference"><a href="f561a95daaf616f98c13df0bfe782866.html" title="">[2]</a></sup><sup id="cite_ref-pata-7Vol1_2-0" class="reference"><a href="d1e26c31868f8039e9946b66f83bb8f1.html" title="">[3]</a></sup> (31 in practice<sup id="cite_ref-lata_ncq_3-0" class="reference"><a href="f3c0d7cc134e0e596d4076cce7a1062f.html" title="">[4]</a></sup>), while <a href="3e4d2ad2efabc0d09d018f4d5ad60793.html" title="SCSI">SCSI</a> <a href="4a5f05e02c257b8a95c70fde47789872.html" title="Tagged Command Queuing">TCQ</a> has a maximum queue length of 2<sup>64</sup> in-flight commands.</p> 
      <p>For NCQ to be enabled, it must be supported and turned on in the SATA host bus adapter and in the hard drive itself. The appropriate driver must be loaded into the operating system to enable NCQ on the host bus adapter. Many newer chipsets support the <a href="f17a82d67c73b1b443224fae405485bb.html" title="Advanced Host Controller Interface">Advanced Host Controller Interface</a> (AHCI), which should allow a generic driver supplied by the operating system to control them and enable NCQ. In fact, newer mainstream Linux kernels support AHCI natively.<sup id="cite_ref-linuxSATA_4-0" class="reference"><a href="20fc00a56959ae8a5b3127d07c81e30f.html" title="">[5]</a></sup> Unfortunately, <a href="b27203ffd822862f7ea3d67aa2ea7d45.html" title="Windows XP">Windows XP</a> requires the installation of a vendor-specific driver even if AHCI is present on the host bus adapter. <a href="226da9059c0a8766c27daf705f8cd7ac.html" title="Windows Vista">Windows Vista</a> corrects this situation by including a generic AHCI driver.<sup class="noprint Template-Fact"><span title="This claim needs references to reliable sources&nbsp;since January 2008" style="white-space: nowrap;">[<i><a href="6cb0224cc8f668eb4079b4e980a33fa7.html" title="Wikipedia:Citation needed">citation needed</a></i>]</span></sup></p> 
      <p><a name="See_also" id="See_also"></a></p> 
      <h2><span class="editsection">[<a href="82e3237cbba3be17df71b91d87ba4444.html" title="Edit section: See also">edit</a>]</span> <span class="mw-headline">See also</span></h2> 
      <ul> 
       <li><a href="0366035d99193b9e77cb81b80720722b.html" title="Tagged Command Queuing">Tagged Command Queuing</a></li> 
      </ul> 
      <p><a name="References" id="References"></a></p> 
      <h2><span class="editsection">[<a href="047bd3e7dc6a850a0bcf1f34816f02d8.html" title="Edit section: References">edit</a>]</span> <span class="mw-headline">References</span></h2> 
      <ol class="references"> 
       <li id="cite_note-test-0"><b><a href="bad3fadd6fbf25cf43452342cfc668ef.html" title="">^</a></b> <a href="c397a94491476319b835c679a777dc6f.html" class="external text" title="http://techreport.com/reviews/2004q4/seagate-7200.7ncq/index.x?pg=13" rel="nofollow">Test of Seagate Barracuda 7200.7 NCQ and other drives</a></li> 
       <li id="cite_note-sata-1"><b><a href="093372c8465e2d6ffefc9f6ee78741e3.html" title="">^</a></b> <a href="cb0b56fe06d70a1bba4d41ef166df7d6.html" class="external text" title="http://www.seagate.com/content/docs/pdf/whitepaper/D2c_tech_paper_intc-stx_sata_ncq.pdf" rel="nofollow">PDF white paper on NCQ from Intel and Seagate</a></li> 
       <li id="cite_note-pata-7Vol1-2"><b><a href="23287b6a5e3965283e653944d44e8946.html" title="">^</a></b> <a href="5ade943c90846fed5b75381296c92910.html" class="external text" title="http://www.t13.org/Documents/UploadedDocuments/docs2004/d1532v1r4b-ATA-ATAPI-7.pdf" rel="nofollow">Volume 1 of the final draft of the ATA-7 standard</a></li> 
       <li id="cite_note-lata_ncq-3"><b><a href="843479030b2ebac23e82918673fd24ad.html" title="">^</a></b> <a href="1192afd721d9924ca7465a3df90b1c36.html" class="external text" title="http://linux-ata.org/faq.html#ncq" rel="nofollow">Linux ATA FAQ about NCQ</a></li> 
       <li id="cite_note-linuxSATA-4"><b><a href="75f0af10c73560083262296189a6169e.html" title="">^</a></b> <a href="bdebebc7cc663a81a4169121586ec3d9.html" class="external text" title="http://linux-ata.org/driver-status.html" rel="nofollow">Linux support status of various Serial ATA host bus adapters</a></li> 
      </ol> 
      <p><a name="External_links" id="External_links"></a></p> 
      <h2><span class="editsection">[<a href="677930e7bad7f0d2828fc379e0192fe1.html" title="Edit section: External links">edit</a>]</span> <span class="mw-headline">External links</span></h2> 
      <ul> 
       <li><a href="d00f147bae7eab068ce7772da5f2089e.html" class="external text" title="http://www.tomshardware.com/2004/11/16/can_command_queuing_turbo_charge_sata/" rel="nofollow">Tom's Hardware Analysis of Hype vs. Reality</a></li> 
      </ul> 
      <!-- 
NewPP limit report
Preprocessor node count: 277/1000000
Post-expand include size: 2879/2048000 bytes
Template argument size: 852/2048000 bytes
Expensive parser function count: 1/500
--> 
      <div class="printfooter"> 
      </div> 
      <div id="catlinks">
       <div id="catlinks" class="catlinks">
        <div id="mw-normal-catlinks">
         <a href="660fdfd22198f29249be207ccb89bc7e.html" title="Special:Categories">Categories</a>: 
         <span dir="ltr"><a href="1c885445e95825a0e6f76066f649e186.html" title="Category:Serial ATA">Serial ATA</a></span>
        </div>
        <div id="mw-hidden-catlinks" class="mw-hidden-cats-hidden">
         Hidden categories: 
         <span dir="ltr"><a href="7bc4df1108e7ccc280f8ef08f3f4fa6e.html" title="Category:Articles to be merged since May 2007">Articles to be merged since May 2007</a></span> | 
         <span dir="ltr"><a href="d44d9601275339fb8aa344a4c319ba01.html" title="Category:All pages needing cleanup">All pages needing cleanup</a></span> | 
         <span dir="ltr"><a href="e494d3f232ceff36094c6641b49cdc96.html" title="Category:All articles with unsourced statements">All articles with unsourced statements</a></span> | 
         <span dir="ltr"><a href="957551a3b9d0bc6c059a42169c3993d8.html" title="Category:Articles with unsourced statements since January 2008">Articles with unsourced statements since January 2008</a></span>
        </div>
       </div>
      </div> 
      <!-- end content --> 
      <div class="visualClear"></div> 
     </div> 
    </div> 
   </div> 
   <div id="column-one"> 
    <div id="p-cactions" class="portlet"> 
     <h5>Views</h5> 
     <ul> 
      <li id="ca-nstab-main" class="selected"><a href="4f45cdbaae52a0120cdabde0be647c3f.html">Article</a></li>
      <li id="ca-talk"><a href="eca38aeeb3f4f7548fb49b86e892cb6b.html">Discussion</a></li>
      <li id="ca-current"><a href="2cf11493bc0445fc78aed06c309457a8.html">Current revision</a></li> 
     </ul> 
    </div> 
    <div class="portlet" id="p-logo"> 
     <a style="background-image: url(../../../../misc/Wiki.png);" href="0c3ef8fcabe275b180f0fb5ab88304be.html" title="Main Page"></a> 
    </div> 
    <script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script> 
    <div class="portlet" id="p-navigation"> 
     <h5>Navigation</h5> 
     <div class="pBody"> 
      <ul> 
       <li id="n-mainpage"><a href="da987fecc12f6d0ec861e4e4336d95da.html">Main Page</a></li> 
       <li id="n-Contents"><a href="574401b7b1b90c06c4f2c1608c14b109.html">Contents</a></li> 
       <li id="n-featuredcontent"><a href="2f937e8a245b0ab23334a93327b6654e.html">Featured content</a></li> 
       <li id="n-currentevents"><a href="a38b44fd8ff6222c2081db7b9dc3c7a8.html">Current events</a></li> 
      </ul> 
     </div> 
    </div> 
    <div class="portlet" id="p-interaction"> 
     <h5>Interaction</h5> 
     <div class="pBody"> 
      <ul> 
       <li id="n-aboutsite"><a href="c4bb9145ad160f5619624ebefcd36ab9.html">About Wikipedia</a></li> 
       <li id="n-portal"><a href="826f9b97d0378a56b71ad679a542fd72.html">Community portal</a></li> 
       <li id="n-recentchanges"><a href="568d3538eec2f33ea8ba2944881db755.html">Recent changes</a></li> 
       <li id="n-contact"><a href="a9d60775821af0b807d46a27921b493d.html">Contact Wikipedia</a></li> 
       <li id="n-sitesupport"><a href="18ddf019673e0717f4252c2bbd264c07.html">Donate to Wikipedia</a></li> 
       <li id="n-help"><a href="525557a0590c63dad20acd536eddf3d9.html">Help</a></li> 
      </ul> 
     </div> 
    </div> 
    <div id="p-search" class="portlet"> 
     <h5><label for="searchInput">Search</label></h5> 
     <div id="searchBody" class="pBody"> 
      <form action="javascript:goToStatic(3)" id="searchform">
       <div> 
        <input id="searchInput" name="search" type="text" accesskey="f" value=""> 
        <input type="submit" name="go" class="searchButton" id="searchGoButton" value="Go"> 
       </div>
      </form> 
     </div> 
    </div> 
    <div id="p-lang" class="portlet"> 
     <h5>Languages</h5> 
     <div class="pBody"> 
      <ul> 
       <li> <a href="ecb5d028ab06113dc6f128e41f78b8e9.html">Deutsch</a> </li> 
       <li> <a href="f885446ca4a188964ae6657725e85c4d.html">Español</a> </li> 
       <li> <a href="c897ab6d9afc83586350c41e3646940b.html">Français</a> </li> 
       <li> <a href="b0f5d13b65678b4f17c33c274100c27a.html">Polski</a> </li> 
       <li> <a href="baa296d32496ff86861268936a8677f9.html">Português</a> </li> 
       <li> <a href="eb8c8c9f3ddebed0dd5ca68e393a8f49.html">Русский</a> </li> 
       <li> <a href="c4cf6c1a95f3c8a3e4d772eaf73022a0.html">Slovenčina</a> </li> 
       <li> <a href="ef207ddca1ab23fe404d21b095e00d2d.html">Svenska</a> </li> 
       <li> <a href="0735c9a79c2ad144e1ce00a5d21ee5af.html">Türkçe</a> </li> 
       <li> <a href="93b1fdccbbe2e9a23220cfc95459978d.html">中文</a> </li> 
       <li> <a href="29904325d385f3c824cf2e8e39761c4d.html">Česky</a> </li> 
      </ul> 
     </div> 
    </div> 
   </div>
   <!-- end of the left (by default at least) column --> 
   <div class="visualClear"></div> 
   <div id="footer"> 
    <div id="f-poweredbyico">
     <a href="9fc410f8ab951132b4b8cfd18e7de549.html"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki"></a>
    </div> 
    <div id="f-copyrightico">
     <a href="69cbe97622dd283ea29cf08b2e5cf30b.html"><img src="../../../../misc/wikimedia-button.png" border="0" alt="Wikimedia Foundation"></a>
    </div> 
    <ul id="f-list"> 
     <li id="f-credits">This page was last modified 01:11, 12 April 2008 by Anonymous user(s) of Wikipedia. Based on work by Wikipedia user(s) <a href="09d47f4926ed54a44e9b6030e0ed3c71.html" title="User:Pepve">Pepve</a>, Ddxc, <a href="79473cfa8bc6da8267bc2d42748c7e5c.html" title="User:Jel">Jel</a>, <a href="0691f00639b54b6f72a2e5d6d82c5eb1.html" title="User:Jesse Viviano">Jesse Viviano</a>, <a href="16ac7068ea92f581db3caf4a2471e277.html" title="User:SmackBot">SmackBot</a>, <a href="7c48f7e34e17d780edc0e8ff2b250292.html" title="User:Intgr">Intgr</a>, <a href="fb82d0e6caf982e5798a0520cc9cdaa3.html" title="User:Helix84">Helix84</a>, Rob.desbois, <a href="7c9a957c5c654e1986d7fc6e4e48ce04.html" title="User:Thijs!bot">Thijs!bot</a>, <a href="a0737449fdf2e92e94d06853c7314c43.html" title="User:FlaBot">FlaBot</a>, <a href="db39963ca9199d6636ea9a7a1c0be454.html" title="User:Wrs1864">Wrs1864</a>, <a href="10f6de5a1e1eccf1f91ead1ed95f1f5c.html" title="User:Hughcharlesparker">Hughcharlesparker</a>, <a href="add4f181f40bf0edb3c4ca5b51750955.html" title="User:Poweroid">Poweroid</a>, R!SC, <a href="46d893c1305dd3a6ebd60c8832a05a57.html" title="User:Travis Wells">Travis Wells</a>, <a href="abdccac3edfbe6aec45b208304320941.html" title="User:Romanc19s">Romanc19s</a>, <a href="9895c2573b518298601d25f03c1ab5ad.html" title="User:Widefox">Widefox</a>, <a href="0695e4acfd0c3cc66e9490de1622cc0c.html" title="User:AlistairMcMillan">AlistairMcMillan</a>, Kozaki, <a href="10ef4f7fd8f87d7e88dec2076b90f297.html" title="User:OrphanBot">OrphanBot</a>, Nitrium, <a href="830dead89eae812a6b9a4e789afcb6d2.html" title="User:Eras-mus">Eras-mus</a>, <a href="555df499229427b91fc9fd657c074d22.html" title="User:LX">LX</a>, <a href="44813b79423d0c9ed92ea36fede6c90c.html" title="User:Sleigh">Sleigh</a>, <a href="5a3093b27e45ac38b588d9d4b50e93d9.html" title="User:YurikBot">YurikBot</a>, <a href="0908430e905344d2ab61ab91e35dd677.html" title="User:Seano1">Seano1</a>, <a href="b93c7438aa241aeaa898f1854b222dcd.html" title="User:Levin">Levin</a>, <a href="6c732fbecd4bc537b601e7669f52d103.html" title="User:KnightRider">KnightRider</a>, <a href="87823842c6d83a001e2083b0de561375.html" title="User:Mirror Vax">Mirror Vax</a>, <a href="cd8139ed959e6fd8e071de96ef4c6968.html" title="User:Atomique">Atomique</a>, Jzm, Guggemos, <a href="bd0f0404c522cbbddaa5cb2016aa49eb.html" title="User:Ruud Koot">Ruud Koot</a>, 1c3d0g, <a href="3f9bd958156e547b150de972e0cd9e2d.html" title="User:ReyBrujo">ReyBrujo</a>, <a href="a7525f0bb488d3dec36db2b8f5578d11.html" title="User:CambridgeBayWeather">CambridgeBayWeather</a>, <a href="78c2307cfa37a00022eb5367e961f286.html" title="User:Palica">Palica</a>, <a href="f35ad1d5c2034f6b874f9ad5cce400d0.html" title="User:Pierre gronau">Pierre gronau</a>, <a href="81f63931495f7fbab67b2325f9638e07.html" title="User:Agoode">Agoode</a>, <a href="bfac20a31066e832248e78ec735331af.html" title="User:JRM">JRM</a>, Spymanut, Prodicus, <a href="3daa9cc08c1a76a58054f3f72ba8f66f.html" title="User:Michael Hardy">Michael Hardy</a>, <a href="44d56a3ab623b226fed8bf05dba8d218.html" title="User:Chmod007">Chmod007</a> and <a href="387e23fd79c8c088bc85ad51f41c2d03.html" title="User:Wernher">Wernher</a>.</li> 
     <li id="f-copyright">All text is available under the terms of the <a class="internal" href="73ec3122d9c3334274fe9c0d020f71fc.html" title="Wikipedia:Text of the GNU Free Documentation License">GNU Free Documentation License</a>. (See <b><a class="internal" href="c897ab6d9afc83586350c41e3646940b.html" title="Wikipedia:Copyrights">Copyrights</a></b> for details.) <br> Wikipedia® is a registered trademark of the <a href="376563fe49be3f75c74b3ba2e5510ca5.html">Wikimedia Foundation, Inc</a>., a U.S. registered <a class="internal" href="8b1c5227fdbf81b9271c87ed42600c47.html" title="501(c)(3)">501(c)(3)</a> <a href="1320e2c60844de717c9752f408f0e4ef.html">tax-deductible</a> <a class="internal" href="29904325d385f3c824cf2e8e39761c4d.html" title="Non-profit organization">nonprofit</a> <a href="eee28cdde5516f11a17fcd346e7f0976.html" title="Charitable organization">charity</a>.<br></li> 
     <li id="f-about"><a href="354ad87401ddc05b04e1ae6f4900258a.html" title="Wikipedia:About">About Wikipedia</a></li> 
     <li id="f-disclaimer"><a href="44a81c9ff2b27b8488bc861a55b1cb52.html" title="Wikipedia:General disclaimer">Disclaimers</a></li> 
    </ul> 
   </div> 
  </div>   
 </body>
</html>
